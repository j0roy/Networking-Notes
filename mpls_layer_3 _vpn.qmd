---
title: "MPLS Layer 3 VPN"
editor: visual
date: last-modified
date-format: long
---

# MPLS Layer 3 VPN

Provider requirement:
Routing protocol  PE-CE
Routing internal provider
VRFs
iBGP between PE (Route reflector for big network)
MPLS

Customer requirement:
Routing protocol  PE-CE


Route distinguisher: It's purpose is to uniquely identify prefix on a single router.
Each time a route is learn in a VRF, it will be pretended by the RD so that it can differentiate an identical prefix between VRF. 

Route target: is an extended BGP community that is associate with a particular VRF. Route target can be Import or export via MP-BGP

```
###Work only with IPv4
ip vrf GUEST

###Work with IPv4 and IPv6
vrf definition GUEST_01
rd 111:333
address-family ipv4
route-target export 111:222
route-target import 333:444

interface gig0/0
vrf forwarding GUEST_01

```

[Source packetlife.net](https://packetlife.net/blog/2013/jun/10/route-distinguishers-and-route-targets)
